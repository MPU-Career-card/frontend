{"version":3,"file":"static/js/296.4939c27a.chunk.js","mappings":"0NAuBA,MAuGA,EAvGiBA,KACb,MAAOC,EAAYC,IAAiBC,EAAAA,EAAAA,UAA4B,OACzDC,EAAWC,IAAgBF,EAAAA,EAAAA,WAAkB,IAC7CG,EAAaC,IAAkBJ,EAAAA,EAAAA,eAA6BK,IAC5DC,EAAWC,IAAgBP,EAAAA,EAAAA,UAAwB,OACpD,gBAAEQ,IAAoBC,EAAAA,EAAAA,MAuB5BC,EAAAA,EAAAA,YAAU,KArBYC,WAClB,IACIT,GAAa,GACb,MAAM,KAAEU,SAAeC,EAAAA,GAAeC,IAAgB,IAAIN,KAC1DT,EAAca,GACdR,OAAeC,GACfE,EAAa,KACjB,CAAE,MAAOQ,GACL,GAAIA,aAAeC,EAAAA,GAAY,CAC3B,MAAM,OAAEC,EAAQL,MAAM,OAAEM,IAAaH,EAAII,UAAY,CAAEP,KAAM,CAAC,GAC9DR,EAAea,GACfV,EAAaW,GAAU,wMAC3B,MACId,EAAe,KACfG,EAAa,wMAErB,CAAC,QACGL,GAAa,EACjB,GAIAkB,EAAe,GAChB,IAEH,MAAMC,GAAUC,EAAAA,EAAAA,UAAQ,IACL,OAAVxB,QAAU,IAAVA,GAAAA,EAAYyB,YAAwC,MAA1BzB,EAAWyB,WAGnCzB,EAAWyB,WAFP,oEAGZ,CAACzB,IAEJ,OAAIG,GACOuB,EAAAA,EAAAA,KAACC,EAAAA,EAAO,IAGftB,GAAeG,GAEXkB,EAAAA,EAAAA,KAACE,EAAAA,EAAK,CACFT,OAAQd,EACRwB,YAAarB,GAAa,oHAKjCR,GAMD8B,EAAAA,EAAAA,MAACC,EAAAA,GAAS,CAAAC,SAAA,EACNN,EAAAA,EAAAA,KAACO,EAAAA,GAAK,CACFC,MAAOX,EACPY,MAAOnC,EAAWmC,MAClBN,YAAa7B,EAAW6B,eAE5BH,EAAAA,EAAAA,KAACU,EAAAA,GAAK,CACFC,UAAW,IACXC,aAAc,IACdC,MAAOC,EAAAA,GAAkBD,MAAMvC,MAEnC0B,EAAAA,EAAAA,KAACe,EAAAA,GAAG,CACAJ,UAAW,IACXC,aAAc,IACdI,SAAUF,EAAAA,GAAkBG,WAAW3C,MAE3C0B,EAAAA,EAAAA,KAACkB,EAAAA,GAAM,CACHC,OAAQL,EAAAA,GAAkBK,OAAO7C,GACjCqC,UAAW,IACXC,aAAc,OAElBZ,EAAAA,EAAAA,KAACoB,EAAAA,GAAW,CACRC,UAAWP,EAAAA,GAAkBO,UAAU/C,GACvCgD,QAASR,EAAAA,GAAkBQ,QAAQhD,GACnCiD,IAAKT,EAAAA,GAAkBS,IAAIjD,GAC3BqC,UAAW,IACXC,aAAc,OAElBZ,EAAAA,EAAAA,KAACwB,EAAAA,GAAS,KACVxB,EAAAA,EAAAA,KAACyB,EAAAA,GAAQ,CACLC,SAAUZ,EAAAA,GAAkBY,SAASpD,GACrCqC,UAAW,IACXC,aAAc,OAElBZ,EAAAA,EAAAA,KAAC2B,EAAAA,GAAK,CACFC,MAAOd,EAAAA,GAAkBc,MAAMtD,GAC/BqC,UAAW,IACXC,aAAc,OAElBZ,EAAAA,EAAAA,KAAC6B,EAAAA,GAAQ,KACT7B,EAAAA,EAAAA,KAAC8B,EAAAA,GAAM,OA5CJ,IA6CK,C","sources":["pages/home/ui/home.tsx"],"sourcesContent":["import { useEffect, useMemo, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { AxiosError } from 'axios';\n\nimport {\n    Tasks,\n    Map,\n    Skills,\n    Specialties,\n    Partners,\n    Links,\n    Promo,\n    Vacancies,\n    Feedback,\n    Footer,\n} from 'widgets';\nimport { Container } from 'shared/ui';\nimport { Profession, ProfessionParams } from 'shared/types';\nimport { professionAdapter, professionsApi } from 'shared/lib';\n\nimport { Error } from '../../error';\nimport { Loading } from '../../loading';\n\nconst HomePage = () => {\n    const [profession, setProfession] = useState<Profession | null>(null);\n    const [isLoading, setIsLoading] = useState<boolean>(true); // Начальное состояние — загрузка\n    const [errorStatus, setErrorStatus] = useState<number | undefined>(undefined);\n    const [errorText, setErrorText] = useState<string | null>(null);\n    const { professionTitle } = useParams<ProfessionParams>();\n\n    const getProfession = async () => {\n        try {\n            setIsLoading(true);\n            const { data } = await professionsApi.get<Profession>(`/${professionTitle}`);\n            setProfession(data);\n            setErrorStatus(undefined);\n            setErrorText(null);\n        } catch (err) {\n            if (err instanceof AxiosError) {\n                const { status, data: { detail } } = err.response || { data: {} };\n                setErrorStatus(status);\n                setErrorText(detail || 'Произошла ошибка при загрузке данных.');\n            } else {\n                setErrorStatus(500);\n                setErrorText('Произошла ошибка при загрузке данных.');\n            }\n        } finally {\n            setIsLoading(false);\n        }\n    };\n\n    useEffect(() => {\n        getProfession();\n    }, []);\n\n    const imgLink = useMemo(() => {\n        if (!profession?.image_link || profession.image_link === '-') {\n            return 'https://www.gofraprime.ru/wp-content/uploads/2017/08/slide-3.jpg';\n        }\n        return profession.image_link;\n    }, [profession]);\n\n    if (isLoading) {\n        return <Loading />;\n    }\n\n    if (errorStatus || errorText) {\n        return (\n            <Error\n                status={errorStatus}\n                description={errorText || 'Профессия не найдена.'}\n            />\n        );\n    }\n\n    if (!profession) {\n        // Фallback — на случай, если profession неожиданно null, возвращаем пустую страницу\n        return null;\n    }\n\n    return (\n        <Container>\n            <Promo\n                image={imgLink}\n                title={profession.title}\n                description={profession.description}\n            />\n            <Tasks\n                marginTop={100}\n                marginBottom={100}\n                tasks={professionAdapter.tasks(profession)}\n            />\n            <Map\n                marginTop={100}\n                marginBottom={100}\n                pointers={professionAdapter.mapPointer(profession)}\n            />\n            <Skills\n                skills={professionAdapter.skills(profession)}\n                marginTop={100}\n                marginBottom={100}\n            />\n            <Specialties\n                bachelors={professionAdapter.bachelors(profession)}\n                masters={professionAdapter.masters(profession)}\n                dpo={professionAdapter.dpo(profession)}\n                marginTop={100}\n                marginBottom={100}\n            />\n            <Vacancies />\n            <Partners\n                partners={professionAdapter.partners(profession)}\n                marginTop={100}\n                marginBottom={100}\n            />\n            <Links\n                links={professionAdapter.links(profession)}\n                marginTop={100}\n                marginBottom={100}\n            />\n            <Feedback />\n            <Footer />\n        </Container>\n    );\n};\n\nexport default HomePage;\n"],"names":["HomePage","profession","setProfession","useState","isLoading","setIsLoading","errorStatus","setErrorStatus","undefined","errorText","setErrorText","professionTitle","useParams","useEffect","async","data","professionsApi","get","err","AxiosError","status","detail","response","getProfession","imgLink","useMemo","image_link","_jsx","Loading","Error","description","_jsxs","Container","children","Promo","image","title","Tasks","marginTop","marginBottom","tasks","professionAdapter","Map","pointers","mapPointer","Skills","skills","Specialties","bachelors","masters","dpo","Vacancies","Partners","partners","Links","links","Feedback","Footer"],"sourceRoot":""}