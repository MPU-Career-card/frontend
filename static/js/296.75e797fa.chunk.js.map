{"version":3,"file":"static/js/296.75e797fa.chunk.js","mappings":"0NAuBA,MAiGA,EAjGiBA,KACb,MAAOC,EAAYC,IAAiBC,EAAAA,EAAAA,aAC7BC,EAAWC,IAAgBF,EAAAA,EAAAA,WAAkB,IAC7CG,EAAaC,IAAkBJ,EAAAA,EAAAA,aAC/BK,EAAWC,IAAgBN,EAAAA,EAAAA,aAC5B,gBAAEO,IAAoBC,EAAAA,EAAAA,MAqB5BC,EAAAA,EAAAA,YAAU,KAnBYC,WAClB,IACIR,GAAa,GAEb,MAAM,KAAES,SAAeC,EAAAA,GAAeC,IAAgB,IAAIN,KAE1DR,EAAcY,EAClB,CAAE,MAAOG,GACL,GAAIA,aAAeC,EAAAA,GAAY,CAC3B,MAAM,OAAEC,EAAQL,MAAM,OAAEM,IAAaH,EAAII,UAAY,CAAEP,KAAM,CAAC,GAE9DP,EAAeY,GACfV,EAAaW,EACjB,CACJ,CAAC,QACGf,GAAa,EACjB,GAIAiB,EAAe,GAChB,IAEH,MAAMC,GAAUC,EAAAA,EAAAA,UAAQ,IACL,OAAVvB,QAAU,IAAVA,GAAAA,EAAYwB,YAAwC,MAA1BxB,EAAWwB,WAInCxB,EAAWwB,WAHP,oEAIZ,CAACxB,IAEJ,OAAIG,GACOsB,EAAAA,EAAAA,KAACC,EAAAA,EAAO,IAGd1B,GAUD2B,EAAAA,EAAAA,MAACC,EAAAA,GAAS,CAAAC,SAAA,EACNJ,EAAAA,EAAAA,KAACK,EAAAA,GAAK,CACFC,MAAOT,EACPU,MAAOhC,EAAWgC,MAClBC,YAAajC,EAAWiC,eAE5BR,EAAAA,EAAAA,KAACS,EAAAA,GAAK,CACFC,UAAW,IACXC,aAAc,IACdC,MAAOC,EAAAA,GAAkBD,MAAMrC,MAEnCyB,EAAAA,EAAAA,KAACc,EAAAA,GAAG,CACAJ,UAAW,IACXC,aAAc,IACdI,SAAUF,EAAAA,GAAkBG,WAAWzC,MAE3CyB,EAAAA,EAAAA,KAACiB,EAAAA,GAAM,CACHC,OAAQL,EAAAA,GAAkBK,OAAO3C,GACjCmC,UAAW,IACXC,aAAc,OAElBX,EAAAA,EAAAA,KAACmB,EAAAA,GAAW,CACRC,UAAWP,EAAAA,GAAkBO,UAAU7C,GACvC8C,QAASR,EAAAA,GAAkBQ,QAAQ9C,GACnC+C,IAAKT,EAAAA,GAAkBS,IAAI/C,GAC3BmC,UAAW,IACXC,aAAc,OAElBX,EAAAA,EAAAA,KAACuB,EAAAA,GAAS,KACVvB,EAAAA,EAAAA,KAACwB,EAAAA,GAAQ,CACLC,SAAUZ,EAAAA,GAAkBY,SAASlD,GACrCmC,UAAW,IACXC,aAAc,OAElBX,EAAAA,EAAAA,KAAC0B,EAAAA,GAAK,CACFC,MAAOd,EAAAA,GAAkBc,MAAMpD,GAC/BmC,UAAW,IACXC,aAAc,OAElBX,EAAAA,EAAAA,KAAC4B,EAAAA,GAAQ,KACT5B,EAAAA,EAAAA,KAAC6B,EAAAA,GAAM,QAhDP7B,EAAAA,EAAAA,KAAC8B,EAAAA,EAAK,CACFrC,OAAQb,EACR4B,YAAa1B,GA+CT,C","sources":["pages/home/ui/home.tsx"],"sourcesContent":["import { useEffect, useMemo, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { AxiosError } from 'axios';\n\nimport {\n    Tasks,\n    Map,\n    Skills,\n    Specialties,\n    Partners,\n    Links,\n    Promo,\n    Vacancies,\n    Feedback,\n    Footer,\n} from 'widgets';\nimport { Container } from 'shared/ui';\nimport { Profession, ProfessionParams } from 'shared/types';\nimport { professionAdapter, professionsApi } from 'shared/lib';\n\nimport { Error } from '../../error';\nimport { Loading } from '../../loading';\n\nconst HomePage = () => {\n    const [profession, setProfession] = useState<Profession>();\n    const [isLoading, setIsLoading] = useState<boolean>(false);\n    const [errorStatus, setErrorStatus] = useState<number>();\n    const [errorText, setErrorText] = useState<string>();\n    const { professionTitle } = useParams<ProfessionParams>();\n\n    const getProfession = async () => {\n        try {\n            setIsLoading(true);\n\n            const { data } = await professionsApi.get<Profession>(`/${professionTitle}`);\n\n            setProfession(data);\n        } catch (err) {\n            if (err instanceof AxiosError) {\n                const { status, data: { detail } } = err.response || { data: {} };\n\n                setErrorStatus(status);\n                setErrorText(detail);\n            }\n        } finally {\n            setIsLoading(false);\n        }\n    };\n\n    useEffect(() => {\n        getProfession();\n    }, []);\n\n    const imgLink = useMemo(() => {\n        if (!profession?.image_link || profession.image_link === '-') {\n            return 'https://www.gofraprime.ru/wp-content/uploads/2017/08/slide-3.jpg';\n        }\n\n        return profession.image_link;\n    }, [profession]);\n\n    if (isLoading) {\n        return <Loading />;\n    }\n\n    if (!profession) {\n        return (\n            <Error\n                status={errorStatus}\n                description={errorText}\n            />\n        );\n    }\n\n    return (\n        <Container>\n            <Promo\n                image={imgLink}\n                title={profession.title}\n                description={profession.description}\n            />\n            <Tasks\n                marginTop={100}\n                marginBottom={100}\n                tasks={professionAdapter.tasks(profession)}\n            />\n            <Map\n                marginTop={100}\n                marginBottom={100}\n                pointers={professionAdapter.mapPointer(profession)}\n            />\n            <Skills\n                skills={professionAdapter.skills(profession)}\n                marginTop={100}\n                marginBottom={100}\n            />\n            <Specialties\n                bachelors={professionAdapter.bachelors(profession)}\n                masters={professionAdapter.masters(profession)}\n                dpo={professionAdapter.dpo(profession)}\n                marginTop={100}\n                marginBottom={100}\n            />\n            <Vacancies />\n            <Partners\n                partners={professionAdapter.partners(profession)}\n                marginTop={100}\n                marginBottom={100}\n            />\n            <Links\n                links={professionAdapter.links(profession)}\n                marginTop={100}\n                marginBottom={100}\n            />\n            <Feedback />\n            <Footer />\n        </Container>\n    );\n};\n\nexport default HomePage;\n"],"names":["HomePage","profession","setProfession","useState","isLoading","setIsLoading","errorStatus","setErrorStatus","errorText","setErrorText","professionTitle","useParams","useEffect","async","data","professionsApi","get","err","AxiosError","status","detail","response","getProfession","imgLink","useMemo","image_link","_jsx","Loading","_jsxs","Container","children","Promo","image","title","description","Tasks","marginTop","marginBottom","tasks","professionAdapter","Map","pointers","mapPointer","Skills","skills","Specialties","bachelors","masters","dpo","Vacancies","Partners","partners","Links","links","Feedback","Footer","Error"],"sourceRoot":""}